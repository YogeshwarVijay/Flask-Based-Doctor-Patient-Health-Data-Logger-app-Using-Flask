<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    <title>Appointment</title>
    <style>
        
        .card{
            background-color:whitesmoke;
            border:4px solid white;
            border-style: ridge;
            border-radius: 8px;
            box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);

        }
        input[type="checkbox"]{
            width: 30px; /*Desired width*/
            height: 30px; /*Desired height*/
          }
          body {
            padding-bottom: 30px;
            background-image: url('/static/stetoschope.jpg');
            background-repeat: no-repeat;
            background-size:cover;
            background-attachment: fixed;
          }
    </style>
</head>
<body>
    <nav class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark">
        
        <button class="navbar-toggler mb-3 mt-2 bg-success" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
      
        <div class="collapse navbar-collapse" style="font-size: 20px;" id="navbarSupportedContent">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item ">
              <a class="nav-link bg-info border rounded text-dark mr-2" href="/client_logout">Log-out</a>
            </li>
          </ul>     
        </div>
      </nav>
    <div style="margin-top: 100px;">
      <h1 class="text-center text-light">Pending Appointments</h1>
    </div>
    {% for i in incomplete_data %}
    <div id="{{i[2]}}" class="container card card-box text-center mt-4 col-lg-4">
        <div class="btn-group mt-2"  id="check_div" role="group" aria-label="Basic checkbox toggle button group">
            <input type="checkbox"  class="btn-check checkbutton"  id="btncheck1" autocomplete="off" onclick="handleclick('{{i[0]}}','{{i[2]}}')" >
            <!-- <label class="btn btn-dark col-lg-3"  for="btncheck1">Completed</label> -->
        </div>
        <div class="card-body"  >
          <h5 class="card-text">Date: {{i[0]}}</h5>
          <h5 class="card-text">Time: {{i[1]}}</h5>
          <hr>
          <h5 class="card-text" style="color:brown"><b>Patient</b></h5>
          <h5 class="card-text">Name: {{i[3]}} </h5>
          <h5 class="card-text">Phone: {{i[2]}}</h5>
          <a href="/doctor_upload_file/{{i[2]}}/{{i[0]}}" class="btn btn-dark text-light">Next</a>

        </div>   
    </div>
    {%endfor%}
<hr/ style="background-color: white;">
<hr/ style="background-color: white;">
<h1 class="text-center text-light">Completed Appointments</h1>
    {% for i in completed_data %}
    <div id="{{i[2]}}" class="container card card-box text-center mt-4 col-lg-4" style="background-color: lightgreen;">
        <div class="btn-group mt-2" id="check_div" role="group" aria-label="Basic checkbox toggle button group">
            <input type="checkbox" class="btn-check checkbutton mr-2"  id="btncheck1" autocomplete="off" onclick="handleclick('{{i[0]}}','{{i[2]}}')" checked="true" >
            <!-- <label class="btn btn-dark col-lg-3"  for="btncheck1">Completed</label> -->
        </div>
        <div class="card-body" >
          <h5 class="card-text">Date: {{i[0]}}</h5>
          <h5 class="card-text">Time: {{i[1]}}</h5>
          <hr>
          <h5 class="card-text" style="color:brown"><b>Patient</b></h5>
          <h5 class="card-text">Name: {{i[3]}} </h5>
          <h5 class="card-text">Phone: {{i[2]}}</h5>
        </div>
    </div>
    {%endfor%}

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
<script type="text/javascript" src="https://cdn.datatables.net/v/bs4/jq-3.3.1/dt-1.10.22/af-2.3.5/b-1.6.5/b-html5-1.6.5/datatables.min.js"></script>
<script>
   const handleclick = (date,phone)=>{
       const card = document.getElementById(phone)
       const checkbox =  card.getElementsByClassName("checkbutton")[0]
       const urlData = checkbox.checked?1:0
       console.log(checkbox.checked)
       console.log(urlData)
       window.location.href=`/updateDatabase/${phone}/${urlData}/${date}/`
       
   }          
</script>


</body>
</html>








  